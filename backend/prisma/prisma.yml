endpoint: https://us1.prisma.sh/cole-bemis-8ac4aa/dasher/dev
datamodel: datamodel.prisma

generate:
  - generator: typescript-client
    output: ../src/__generated__/prisma-client

hooks:
  post-deploy:
    - prisma generate
    # `prisma deploy` needs to be run from the backend directory,
    # otherwise the relative client and output paths will be incorrect
    - npx nexus-prisma-generate --client ./src/__generated__/prisma-client --output ./src/__generated__/nexus-prisma
    # Known issue: nexus-prisma-generate will fail if the output directory already exists
    # https://github.com/prisma/nexus-prisma/issues/87
